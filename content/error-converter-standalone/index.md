---
categories: DevOps
cover:
  alt: devops
  caption: devops
  image: devops.png
  relative: false
date: "2018-09-17T07:00:05+03:00"
draft: false
author: "jtprogru"
slug: /error-converter-standalone/
tags:
- centos
- converter
- vmware
title: '[VMware] vCenter Converter Standalone error'
type: post
---

Привет, `%username%`! Бывают ситуации когда единственное решение это конвертировать физический сервер в виртуальный. Ошибка с которой я столкнулся при работе с конвертером звучит вот так `A file i/o error occurred while accessing`. Рассмотрим когда она возникает и как её лечить.

Все довольно просто, но далеко не очевидно. Первое: Возникает она в случае если у вас установлен конвертер последней (на текущий момент) версии `6.2.0.1`, а сам `vCenter` установлен версии `6.0`. Вылечить это можно простым понижением версии (удалить новую и поставить старую) самого конвертера. Второе и это совсем не очевидно (по крайней мере для меня было совсем не очевидно): в наших реалиях на площадке где был развернут кластер `ESXi`, для самих хостов `ESXi` использовалась одна подсеть, а для доступа к ней через vCenter использовалась совершенно другая подсеть.

## Что было

У нас была виртуала с Windows 10 и vCenter Converter Standalone в нашей сети (на площадке нашего офиса), а кластер из хостов ESXi расположен в ЦОДе. Доступ к веб-морде vCenter есть, но этого оказалось не достаточно. При добавлении задания в конвертер (использовалась версия `6.0 Release date 2015-05-14`), вылетала ошибка гласящая "[A file i/o error occurred while accessing](https://communities.vmware.com/thread/512921)". Задание на конвертацию включало в себя примерно следующее: конвертировать физический сервер в виртуальный с небольшими изменениями (название ВМ, IP/DNS). Сервер на CentOS 7 x64 с установленным PostgreSQL в режиме slave база которого занимает около 2TB. Доступ к самому серверу из конвертера осуществляется по ssh с ключом (не буду признаваться, что пароль root'а никто не помнит, а сбрасывать его лень).

## Что делать

Так вот: ошибка эта должна вам говорить о том, что ваш конвертер не может достучаться до хостов на которых развернут ESXi. И решением этой проблемы будет внесение записей в файл `hosts` на вашей Windows с IP-адресами и hostname самих хостов ESXi (ну очевидно же). После внесения соответствующих записей задание добавляется и запускается. Объяснили мне это тем, что конвертер при добавлении задания выбирает подходящий хост ESXi и запихивает на него эту новую виртуалку.

Ошибка `A file i/o error occurred while accessing` решается добавлением записей о хостах ESXi в файл `hosts`

На этом все!

---
Если у тебя есть вопросы, комментарии и/или замечания – заходи в [чат](https://ttttt.me/jtprogru_chat), а так же подписывайся на [канал](https://ttttt.me/jtprogru_channel).
